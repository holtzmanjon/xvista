#    ********* DO NOT EDIT THIS FILE *********
#  It is automatically generated and your changes will not be used! 
MACHINE=macosx
CPP=/usr/bin/cpp
INCCPP=/usr/bin/cpp
FPP=for
CPPFLAGS=-DX11_exists -I/usr/X11/include -traditional -P
CC=cc
CFLAGS=-O -DX11_exists -I/usr/X11/include -DFORT -DUNIX -I/usr/include/bsd -I/sw/include
FC=gfortran
FFLAGS=-O -ffixed-line-length-132 
LD=gfortran
LDFLAGS=-L/sw/lib
RM=rm
AR=ar
DX11=-DX11_exists -I/usr/X11/include
X11DEV=x11_.o x11.o xgets.o trackbox.o
LX11DEV=$(MLIB)(x11_.o) $(MLIB)(x11.o) $(MLIB)(xgets.o) $(MLIB)(trackbox.o)
X11LIB=-L/usr/X11/lib64 -L/usr/X11/lib -lX11
SUNIEEE=
OPTFLAG=
BSTATIC=-lgcc
DOOBJS=$(LOBJS)
MAR=
MRM=$(RM) *.o
LREADLINE=
WCSLIB=
MLIB=../../lib/surfphot.$(MACHINE).a
VMSTREE=/usr/tmp/vista
OBJS=aedit.o annulus.o aperture.o circmag.o clprof.o cprof.o devaucfit.o egal.o\
emag.o emark.o histnuc.o plovsb.o plprof.o pradial.o  \
prep.o profile.o recon.o renuc.o rmark.o simulnuc.o template.o tvprof.o \
surfbright.o ellmag.o sector.o autocen.o doedit.o bdfit.o surfphot.o xprof.o \
petromag.o
LOBJS=$(MLIB)(aedit.o) $(MLIB)(annulus.o) $(MLIB)(aperture.o)                  \
$(MLIB)(circmag.o) $(MLIB)(clprof.o) $(MLIB)(cprof.o) $(MLIB)(devaucfit.o)     \
$(MLIB)(egal.o) $(MLIB)(emag.o) $(MLIB)(emark.o) $(MLIB)(sector.o)             \
$(MLIB)(histnuc.o) $(MLIB)(plovsb.o) $(MLIB)(autocen.o) \
$(MLIB)(plprof.o) $(MLIB)(pradial.o) $(MLIB)(prep.o) $(MLIB)(profile.o)        \
$(MLIB)(recon.o) $(MLIB)(renuc.o) $(MLIB)(rmark.o) $(MLIB)(simulnuc.o)         \
$(MLIB)(template.o) $(MLIB)(tvprof.o) $(MLIB)(ellmag.o) $(MLIB)(surfbright.o)  \
$(MLIB)(doedit.o) $(MLIB)(bdfit.o) $(MLIB)(surfphot.o) $(MLIB)(xprof.o) \
$(MLIB)(petromag.o)
VMSCODE=aedit.for annulus.for aperture.for circmag.for clprof.for cprof.for    \
devaucfit.for egal.for emag.for emark.for sector.for autocen.for \
histnuc.for plovsb.for plprof.for pradial.for prep.for profile.for recon.for   \
renuc.for rmark.for simulnuc.for template.for tvprof.for ellmag.for \
surfbright.for bdfit.for xprof.for petromag.for
#
#       Teach make how to do a number of things that certain systems don't know
.SUFFIXES:
.SUFFIXES: .out .o .c .e .r .F .f .y .l .s .p .a
.F.o:
	$(CPP) $(CPPFLAGS) $*.F $*.$(FPP)
	$(FC) -c $(FFLAGS) $*.$(FPP)
	$(RM) -f $*.$(FPP)
.F.a:
	$(CPP) $(CPPFLAGS) $< $*.$(FPP)
	$(FC) -c $(FFLAGS) $*.$(FPP)
	$(AR) rv $@ $*.o
	$(RM) -f $*.$(FPP) 
	rm -f $*.o
.f.a:
	$(FC) -c $(FFLAGS) $*.f
	$(AR) rv $@ $*.o
	rm -f $*.o
.F.inc: ; $(CPP) $(CPPFLAGS) $*.F $*.inc
.c.a:
	$(CC) -c $(CFLAGS) $*.c
	$(AR) rv $@ $*.o
	rm -f $*.o

#       Teach make how to make files for export to a VMS system
.SUFFIXES: .vmsf .for .inc .vmsc .com
.vmsf.for: ; cp $*.vmsf $*.for
.vmsc.com: ; cp $*.vmsc $*.com
.f.for: ; cp $*.f $*.for
.F.for: ; $(CPP) $(VMSFLAGS) $*.F $*.for
#
datefile::Vista.h $(MLIB) tidy
	date > datefile
#       Don't let make delete the object library!
.PRECIOUS: $(MLIB)
#
$(MLIB): $(DOOBJS)
	$(MAR)
	-$(MRM)
	-ranlib $(MLIB)
#cprof.o:          cprof.F ../Vista.$(MACHINE)
#$(MLIB)(cprof.o): cprof.F ../Vista.$(MACHINE)
clean:
	-rm *.o \#* *.bak
tidy:
	-rm Vista.h datefile
Vista.h:
	ln -s ../Vista.$(MACHINE) Vista.h
#       THE FOLLOWING STUFF MAKES CODE FOR THE VAXen
avmscode: Vista.h.avms $(VMSCODE)
	-mkdir $(VMSTREE)/source/surfphot
	mv *.for $(VMSTREE)/source/surfphot
	-cp *.c $(VMSTREE)/source/surfphot
	cp ../Vista.avms $(VMSTREE)/source/surfphot/Vista.h
	-rm Vista.h avmscode
	date >  avmscode
Vista.h.avms:
	-rm Vista.h
	ln -s ../Vista.avms Vista.h
uvmscode: Vista.h.uvms $(VMSCODE)
	-mkdir $(VMSTREE)/source/surfphot
	mv *.for $(VMSTREE)/source/surfphot
	-cp *.c $(VMSTREE)/source/surfphot
	cp ../Vista.uvms $(VMSTREE)/source/surfphot/Vista.h
	-rm Vista.h uvmscode
	date >  uvmscode
Vista.h.uvms:
	-rm Vista.h
	ln -s ../Vista.uvms Vista.h
pvmscode: Vista.h.pvms $(VMSCODE)
	-mkdir $(VMSTREE)/source/surfphot
	mv *.for $(VMSTREE)/source/surfphot
	-cp *.c $(VMSTREE)/source/surfphot
	cp ../Vista.pvms $(VMSTREE)/source/surfphot/Vista.h
	-rm Vista.h pvmscode
	date >  pvmscode
Vista.h.pvms:
	-rm Vista.h
	ln -s ../Vista.pvms Vista.h
