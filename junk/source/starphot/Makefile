#    ********* DO NOT EDIT THIS FILE *********
#  It is automatically generated and your changes will not be used! 
MACHINE=macosx
CPP=/usr/bin/cpp
INCCPP=/usr/bin/cpp
FPP=for
CPPFLAGS=-DX11_exists -I/usr/X11/include -traditional -P
CC=cc
CFLAGS=-O -DX11_exists -I/usr/X11/include -DFORT -DUNIX -I/usr/include/bsd -I/sw/include
FC=gfortran
FFLAGS=-O -ffixed-line-length-132 
LD=gfortran
LDFLAGS=-L/sw/lib
RM=rm
AR=ar
DX11=-DX11_exists -I/usr/X11/include
X11DEV=x11_.o x11.o xgets.o trackbox.o
LX11DEV=$(MLIB)(x11_.o) $(MLIB)(x11.o) $(MLIB)(xgets.o) $(MLIB)(trackbox.o)
X11LIB=-L/usr/X11/lib64 -L/usr/X11/lib -lX11
SUNIEEE=
OPTFLAG=
BSTATIC=-lgcc
DOOBJS=$(LOBJS)
MAR=
MRM=$(RM) *.o
LREADLINE=
WCSLIB=
MLIB=../../lib/starphot.$(MACHINE).a
SLIB=daolib.a
VMSTREE=/usr/tmp/vista
#OBJS=addstar.o aperstar.o automark.o bcgms.o combine.o coords.o correct.o      \
#countstar.o daofiles.o dump.o find.o fitstar.o plotfocus.o      \
#fotometry.o group.o groupmer.o iosubs.o magaver.o modphot.o newlib.o   \
#newinterp.o nmag.o nstar.o offset.o oldgroup.o peak.o plotap.o psf.o psffit.o  \
#psfinterp.o register.o select.o shortap.o sort.o substar.o vaxsubs.o starphot.o
LOBJS=$(MLIB)(addstar.o) $(MLIB)(aperstar.o) $(MLIB)(automark.o)               \
$(MLIB)(bcgms.o) $(MLIB)(combine.o) $(MLIB)(coords.o) $(MLIB)(correct.o)       \
$(MLIB)(countstar.o) $(MLIB)(daofiles.o) \
$(MLIB)(dump.o) $(MLIB)(find.o) $(MLIB)(fitstar.o) $(MLIB)(plotfocus.o)\
$(MLIB)(fotometry.o) $(MLIB)(group.o) $(MLIB)(groupmer.o) $(MLIB)(iosubs.o)    \
$(MLIB)(magaver.o) $(MLIB)(modphot.o) $(MLIB)(newlib.o)       \
$(MLIB)(newinterp.o) $(MLIB)(nmag.o) $(MLIB)(nstar.o) $(MLIB)(offset.o)        \
$(MLIB)(oldgroup.o) $(MLIB)(peak.o) $(MLIB)(plotap.o) $(MLIB)(psf.o)           \
$(MLIB)(psffit.o) $(MLIB)(psfinterp.o) $(MLIB)(register.o) $(MLIB)(select.o)   \
$(MLIB)(shortap.o) $(MLIB)(sort.o) $(MLIB)(substar.o) $(MLIB)(vaxsubs.o)       \
$(MLIB)(multistar.o) $(MLIB)(substarv.o) $(MLIB)(subphot.o)  $(MLIB)(starphot.o) \
$(MLIB)(getopt.o) $(MLIB)(daoload.o) $(MLIB)(daosky.o) $(MLIB)(options.o) $(MLIB)(starplot.o) \
$(MLIB)(mergemag.o) $(MLIB)(aptrn.o) $(MLIB)(weed.o) $(MLIB)(cmd.o) $(MLIB)(magaverage.o) \
$(MLIB)(cte.o) $(MLIB)(docor.o) $(MLIB)(cmderr.o)

VMSCODE=addstar.for aperstar.for automark.for bcgms.for combine.for coords.for \
correct.for countstar.for daofiles.for daophot.for doub.for dump.for\
find.for fitstar.for plotfocus.for fotometry.for group.for groupmer.for iosubs.for \
magaver.for modphot.for newlib.for newinterp.for nmag.for nstar.for  \
offset.for oldgroup.for peak.for plotap.for psf.for psffit.for psfinterp.for   \
register.for select.for shortap.for sort.for substar.for vaxsubs.for
#
#       Teach make how to do a number of things that certain systems don't know
.SUFFIXES:
.SUFFIXES: .out .o .c .e .r .F .f .y .l .s .p .F .inc .a
.F.o:
	$(CPP) $(CPPFLAGS) $*.F $*.$(FPP)
	$(FC) -c $(FFLAGS) $*.$(FPP)
	$(RM) -f $*.$(FPP)
.F.a:
	$(CPP) $(CPPFLAGS) $< $*.$(FPP)
	$(FC) -c $(FFLAGS) $*.$(FPP)
	$(AR) rv $@ $*.o
	$(RM) -f $*.$(FPP) 
	rm -f $*.o
.f.a:
	$(FC) -c $(FFLAGS) $*.f
	$(AR) rv $@ $*.o
	rm -f $*.o
.c.a:
	$(CC) -c $(CFLAGS) $*.c
	$(AR) rv $@ $*.o
	rm -f $*.o

#       Teach make how to make files for export to a VMS system
.SUFFIXES: .vmsf .for .inc .vmsc .com
.vmsf.for: ; cp $*.vmsf $*.for
.vmsc.com: ; cp $*.vmsc $*.com
.f.for: ; cp $*.f $*.for
.F.for: ; $(CPP) $(VMSFLAGS) $*.F $*.for
#
datefile::Vista.h $(MLIB) tidy
	date > datefile
#       Don't let make delete the object library!
.PRECIOUS: $(MLIB)
#
$(MLIB): $(DOOBJS)
	$(MAR)
	-$(MRM)
	-ranlib $(MLIB)
#fitstar.o:          fitstar.F ../Vista.$(MACHINE)
#$(MLIB)(fitstar.o): fitstar.F ../Vista.$(MACHINE)
clean:
	-rm *.o \#* *.bak
tidy:
	-rm Vista.h datefile
Vista.h:
	ln -s ../Vista.$(MACHINE) Vista.h
#daophot: Vista.dao $(SLIB) daophot.o tidy
#	$(LD) -o daophot daophot.o daolib.a
#	-rm daophot.o
#$(SLIB): $(SOBJS)
#	-ranlib $(SLIB)
Vista.dao:
	ln -s ../Vista.dao Vista.h
#       THE FOLLOWING STUFF MAKES CODE FOR THE VAXen
avmscode: Vista.h.avms $(VMSCODE)
	-mkdir $(VMSTREE)/source/starphot
	mv *.for $(VMSTREE)/source/starphot
	cp *.c   $(VMSTREE)/source/starphot
	'rm' $(VMSTREE)/source/starphot/cprogs.c
	cp *.inc $(VMSTREE)/source/starphot
	cp ../Vista.avms $(VMSTREE)/source/starphot/Vista.h
	-rm Vista.h avmscode
	date >  avmscode
Vista.h.avms:
	-rm Vista.h
	ln -s ../Vista.avms Vista.h
uvmscode: Vista.h.uvms $(VMSCODE)
	-mkdir $(VMSTREE)/source/starphot
	mv *.for $(VMSTREE)/source/starphot
	cp *.c   $(VMSTREE)/source/starphot
	'rm' $(VMSTREE)/source/starphot/cprogs.c
	cp *.inc $(VMSTREE)/source/starphot
	cp ../Vista.uvms $(VMSTREE)/source/starphot/Vista.h
	-rm Vista.h uvmscode
	date >  uvmscode
Vista.h.uvms:
	-rm Vista.h
	ln -s ../Vista.uvms Vista.h
pvmscode: Vista.h.pvms $(VMSCODE)
	-mkdir $(VMSTREE)/source/starphot
	mv *.for $(VMSTREE)/source/starphot
	cp *.c   $(VMSTREE)/source/starphot
	'rm' $(VMSTREE)/source/starphot/cprogs.c
	cp *.inc $(VMSTREE)/source/starphot
	cp ../Vista.pvms $(VMSTREE)/source/starphot/Vista.h
	-rm Vista.h pvmscode
	date >  pvmscode
Vista.h.pvms:
	-rm Vista.h
	ln -s ../Vista.pvms Vista.h
